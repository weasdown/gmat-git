<?xml version="1.0" encoding="UTF-8"?>
<refentry version="5.0" xml:id="ThrustHistoryFile"
          xmlns="http://docbook.org/ns/docbook"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          xmlns:xi="http://www.w3.org/2001/XInclude"
          xmlns:svg="http://www.w3.org/2000/svg"
          xmlns:m="http://www.w3.org/1998/Math/MathML"
          xmlns:html="http://www.w3.org/1999/xhtml"
          xmlns:db="http://docbook.org/ns/docbook">
  <indexterm>
    <primary>ThrustHistoryFile</primary>
  </indexterm>

  <refmeta>
    <refentrytitle>ThrustHistoryFile</refentrytitle>

    <refmiscinfo class="source">GMAT</refmiscinfo>

    <refmiscinfo class="manual">Resources</refmiscinfo>
  </refmeta>

  <refnamediv>
    <refname>ThrustHistoryFile</refname>

    <refpurpose>A time history of input thrust/acceleration vectors and mass
    flow rate</refpurpose>
  </refnamediv>

  <refsection>
    <title>Description</title>

    <para>A <guilabel>ThrustHistoryFile</guilabel> resource is used to read in
    a time history of thrust or acceleration vectors that will be applied to a
    specified spacecraft. The user can optionally choose to read in a time
    history of mass flow rate that applies to a specified fuel
    resource.</para>

    <para><phrase role="ref_seealso">See Also</phrase>: <xref
    linkend="ThrustSegment"/>, <xref linkend="BeginFileThrust"/>, <xref
    linkend="EndFileThrust"/></para>
  </refsection>

  <refsection xml:id="ThrustHistoryFile_Resource_Fields">
    <title>Fields</title>

    <informaltable colsep="0" frame="topbot">
      <tgroup cols="2">
        <colspec colwidth="232*"/>

        <colspec colwidth="768*"/>

        <thead>
          <row>
            <entry>Field</entry>

            <entry>Description</entry>
          </row>
        </thead>

        <tbody>
          <row>
            <entry><guilabel>AddThrustSegment </guilabel></entry>

            <entry><para>Method to specify one or more thrust segments
            contained in a given thrust/acceleration and mass flow rate
            history file. </para><variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>String</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para>Any user-defined <guilabel>ThrustSegment</guilabel>
                    resource</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>set</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para><guilabel>N/A</guilabel></para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>N/A</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>script</para>
                  </listitem>
                </varlistentry>
              </variablelist></entry>
          </row>

          <row>
            <entry><guilabel>FileName</guilabel></entry>

            <entry><para>File name of the associated thrust/acceleration and
            mass flow rate history file. Details on the format of this user
            created file is described in the Remarks. </para> <variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>String</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para>Any user-defined file name</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>set</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para>N/A</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>N/A</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>script</para>
                  </listitem>
                </varlistentry>
              </variablelist></entry>
          </row>
        </tbody>
      </tgroup>
    </informaltable>
  </refsection>

  <refsection>
    <title>Remarks</title>

    <refsection>
      <title>Format of a thrust history file</title>

      <para>The thrust history file contains blocks of data. Each block of
      data starts with a BeginThrust keyword and ends with an EndThrust
      keyword. More specifically, the start of a block of data is indicated by
      the keyword "BeginThrust {<guilabel>ThrustSegment</guilabel> object
      name}" and ends with the keyword "EndThrust
      {<guilabel>ThrustSegment</guilabel> object name}." The specified
      <guilabel>ThrustSegment</guilabel> resource defines how the data in a
      given block is to be used.</para>

      <para>We assume that the user has created a script where a
      <guilabel>ThrustSegment</guilabel> resource,
      <guilabel>Segment1</guilabel>, has been created. Below, we show a sample
      thrust history file that references
      <guilabel>Segment1</guilabel>.</para>

      <programlisting><code>BeginThrust {Segment1}
Start_Epoch = 29 Jan 2019 16:35:00.000
Thrust_Vector_Coordinate_System = EarthMJ2000Eq   
Thrust_Vector_Interpolation_Method  = None
Mass_Flow_Rate_Interpolation_Method = None
ModelAccelOnly
0.0     0.003 0.011 0.002
1.0     0.003 0.011 0.002
EndThrust {Segment1}</code></programlisting>

      <para>The <code>Start_Epoch</code> parameter value in this history file
      specifies that the thrust/acceleration data in the file should be
      applied starting at 29 Jan 2019 16:35:00.000 UTCG. The
      <code>Thrust_Vector_Coordinate_System</code> parameter value specifies
      that the thurst/acceleration data in this file uses the EarthMJ2000Eq
      coordinate system. The <code>Thrust_Vector_Interpolation_Method</code>
      parameter value specifies that the thrust/acceleration data in this file
      should not be interpolated. The
      <code>Mass_Flow_Rate_Interpolation_Method</code> parameter value
      specifies that mass flow rate data, if any, in this file, should not be
      interpolated. <code>ModelAccelOnly</code> in the file above is a header
      describing the data that follows. It tells GMAT what type of
      acceleration/thrust and mass flow rate modeling to perform. In this
      case, the <code>ModelAccelOnly</code> tells GMAT we are modeling
      acceleration only.</para>

      <para>Next, the thrust history file contains two rows of acceleration
      data. The first entry in each row is elapsed seconds from the
      <code>Start_Epoch</code> value. The next three entries in each row is an
      acceleration vector in <inlineequation>
          <m:math>
            <m:mrow>
              <m:mi>m</m:mi>

              <m:mo>/</m:mo>

              <m:msup>
                <m:mi>s</m:mi>

                <m:mn>2</m:mn>
              </m:msup>
            </m:mrow>
          </m:math>
        </inlineequation>. The 0.0 value in the first row indicates that the
      acceleration should occur 0 elapsed seconds from
      <code>Start_Epoch</code>, at 29 Jan 2019 16:35:00.000 UTCG. The
      acceleration vector, at this time, will have a value of (0.003 0.011
      0.002) <inlineequation>
          <m:math>
            <m:mrow>
              <m:mi>m</m:mi>

              <m:mo>/</m:mo>

              <m:msup>
                <m:mi>s</m:mi>

                <m:mn>2</m:mn>
              </m:msup>
            </m:mrow>
          </m:math>
        </inlineequation> applied in the EarthMJ2000Eq coordinate system. The
      1.0 value in the second row indicates that the applied acceleration
      should end at 29 Jan 2019 16:35:01.000 UTCG. The acceleration vector, at
      this time, will have a value of (0.003 0.011 0.002) <inlineequation>
          <m:math>
            <m:mrow>
              <m:mi>m</m:mi>

              <m:mo>/</m:mo>

              <m:msup>
                <m:mi>s</m:mi>

                <m:mn>2</m:mn>
              </m:msup>
            </m:mrow>
          </m:math>
        </inlineequation> applied in the EarthMJ2000Eq coordinate system. Note
      that if the interpolation method is <code>None</code> as shown here, the
      acceleration is applied in piecewise constant fashion and only the time
      from the last acceleration record is needed; the acceleration values are
      ignored. The <code>Linear</code> and <code>CubicSpline</code>
      interpolation methods will use the acceleration values in the last
      record as interpolation nodes.</para>

      <para>The table below provides more information on the four parameters
      defined within a block of data, enclosed within
      <code>BeginThrust</code>/<code>EndThrust</code> pair keywords, in a
      thrust history file.</para>

      <informaltable colsep="0" frame="topbot">
        <tgroup cols="2">
          <colspec colwidth="515*"/>

          <colspec colwidth="485*"/>

          <thead>
            <row>
              <entry>File Parameter</entry>

              <entry>Description</entry>
            </row>
          </thead>

          <tbody>
            <row>
              <entry><guilabel>Start_Epoch </guilabel></entry>

              <entry><para>Reference epoch, in UTC Gregorian format, for the
              thrust/acceleration and mass flow rate data.
              </para><variablelist>
                  <varlistentry>
                    <term>Data Type</term>

                    <listitem>
                      <para>String</para>
                    </listitem>
                  </varlistentry>

                  <varlistentry>
                    <term>Allowed Values</term>

                    <listitem>
                      <para>Any valid Epoch in UTCG format</para>
                    </listitem>
                  </varlistentry>

                  <varlistentry>
                    <term>Units</term>

                    <listitem>
                      <para>N/A</para>
                    </listitem>
                  </varlistentry>
                </variablelist></entry>
            </row>

            <row>
              <entry><guilabel>Thrust_Vector_Coordinate_System
              </guilabel></entry>

              <entry><para>Coordinate system used to specify the
              thrust/acceleration vector data. </para><variablelist>
                  <varlistentry>
                    <term>Data Type</term>

                    <listitem>
                      <para>String</para>
                    </listitem>
                  </varlistentry>

                  <varlistentry>
                    <term>Allowed Values</term>

                    <listitem>
                      <para>Any valid built-in or user-defined
                      <guilabel>CoordinateSystem</guilabel> resource. If a
                      user-defined spacecraft body-fixed frame is chosen, the
                      user must also define the spacecraft attitude
                      separately.</para>
                    </listitem>
                  </varlistentry>

                  <varlistentry>
                    <term>Units</term>

                    <listitem>
                      <para>N/A</para>
                    </listitem>
                  </varlistentry>
                </variablelist></entry>
            </row>

            <row>
              <entry><guilabel>Thrust_Vector_Interpolation_Method</guilabel></entry>

              <entry><para>Interpolation method used for the
              thrust/acceleration vector components. </para><variablelist>
                  <varlistentry>
                    <term>Data Type</term>

                    <listitem>
                      <para>String</para>
                    </listitem>
                  </varlistentry>

                  <varlistentry>
                    <term>Allowed Values</term>

                    <listitem>
                      <para>Linear, CubicSpline, or None.</para>
                    </listitem>
                  </varlistentry>

                  <varlistentry>
                    <term>Units</term>

                    <listitem>
                      <para>N/A</para>
                    </listitem>
                  </varlistentry>
                </variablelist></entry>
            </row>

            <row>
              <entry><guilabel>Mass_Flow_Rate_Interpolation_Method
              </guilabel></entry>

              <entry><para>Interpolation method used for the mass flow rate
              </para><variablelist>
                  <varlistentry>
                    <term>Data Type</term>

                    <listitem>
                      <para>String</para>
                    </listitem>
                  </varlistentry>

                  <varlistentry>
                    <term>Allowed Values</term>

                    <listitem>
                      <para>Linear, CubicSpline, or None</para>
                    </listitem>
                  </varlistentry>

                  <varlistentry>
                    <term>Units</term>

                    <listitem>
                      <para>N/A</para>
                    </listitem>
                  </varlistentry>
                </variablelist></entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable>

      <para>The table below lists the four valid header values that describe
      how the data enclosed within
      <code>BeginThrust</code>/<code>EndThrust</code> pair keywords, in a
      thrust history file, is to be used.</para>

      <informaltable colsep="0" frame="topbot">
        <tgroup cols="2">
          <colspec colwidth="231*"/>

          <colspec colwidth="769*"/>

          <thead>
            <row>
              <entry>Header</entry>

              <entry>Description</entry>
            </row>
          </thead>

          <tbody>
            <row>
              <entry><guilabel>ModelThrustAndMassRate</guilabel></entry>

              <entry><para>Each row of data contains five elements. The first
              element is the elapsed seconds (non-negative) from the
              <code>Start_Epoch</code> parameter value. The next three
              elements are the three components of thrust in Newtons (N). The
              final (fifth) element is the mass flow rate in kg/s. A positive
              value for this fifth element corresponds to a mass decrease to
              simulate fuel mass being consumed. </para></entry>
            </row>

            <row>
              <entry><guilabel>ModelThrustOnly</guilabel></entry>

              <entry><para>Each row of data contains four elements. The first
              element is the elapsed seconds (non-negative) from the
              <code>Start_Epoch</code> parameter value. The next three
              elements are the three components of thrust in Newtons (N).
              </para></entry>
            </row>

            <row>
              <entry><guilabel>ModelAccelAndMassRate</guilabel></entry>

              <entry><para>Each row of data contains five elements. The first
              element is the elapsed seconds (non-negative) from the
              <code>Start_Epoch</code> parameter value. The next three
              elements are the three components of acceleration in m/s^2. The
              final (fifth) element is the mass flow rate in kg/s. A positive
              value for this fifth element corresponds to a mass decrease to
              simulate fuel mass being consumed. </para></entry>
            </row>

            <row>
              <entry><guilabel>ModelAccelOnly</guilabel></entry>

              <entry><para>Each row of data contains four elements. The first
              element is the elapsed seconds (non-negative) from the
              <code>Start_Epoch</code> parameter value. The next three
              elements are the three components of acceleration in
              m/s^2.</para></entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable>
    </refsection>

    <refsection>
      <title>Equations of Motion (EOM) as a function of Header type and
      ThrustSegment.ApplyThrustScaleToMassFlow parameter value</title>

      <para>The choice of header value as listed in the previous table will
      affect the GMAT EOM. In addition, the choice of value for the associated
      <guilabel>ThrustSegment</guilabel>
      <guilabel>ApplyThrustScaleToMassFlow</guilabel> flag, either True or
      False, can also affect the EOM. The table below shows how the GMAT EOM
      change as a function of header type and value of the
      <guilabel>ThrustSegment</guilabel>.
      <guilabel>ApplyThrustScaleToMassFlow</guilabel> parameter.</para>

      <informaltable pgwide="1">
        <tgroup cols="4">
          <colspec align="center" colwidth="330*"/>

          <colspec colwidth="193*"/>

          <colspec colwidth="234*"/>

          <colspec colwidth="243*"/>

          <thead>
            <row>
              <entry align="center">Header</entry>

              <entry align="center">ApplyThrustScaleToMassFlow</entry>

              <entry align="center">Total Acceleration</entry>

              <entry align="center">Total Mass Flow Rate</entry>
            </row>
          </thead>

          <tbody>
            <row>
              <entry>ModelAccelOnly</entry>

              <entry>True or False</entry>

              <entry><inlineequation>
                  <m:math>
                    <m:mrow>
                      <m:msub>
                        <m:mi>a</m:mi>

                        <m:mrow>
                          <m:mi>T</m:mi>

                          <m:mi>o</m:mi>

                          <m:mi>t</m:mi>

                          <m:mi>a</m:mi>

                          <m:mi>l</m:mi>
                        </m:mrow>
                      </m:msub>

                      <m:mo>=</m:mo>

                      <m:mi>a</m:mi>

                      <m:mo>+</m:mo>

                      <m:mi>s</m:mi>

                      <m:msub>
                        <m:mi>a</m:mi>

                        <m:mrow>
                          <m:mi>F</m:mi>

                          <m:mi>i</m:mi>

                          <m:mi>l</m:mi>

                          <m:mi>e</m:mi>
                        </m:mrow>
                      </m:msub>
                    </m:mrow>
                  </m:math>
                </inlineequation></entry>

              <entry><inlineequation>
                  <m:math>
                    <m:mrow>
                      <m:msub>
                        <m:mover accent="true">
                          <m:mi>m</m:mi>

                          <m:mo>˙</m:mo>
                        </m:mover>

                        <m:mrow>
                          <m:mi>T</m:mi>

                          <m:mi>o</m:mi>

                          <m:mi>t</m:mi>

                          <m:mi>a</m:mi>

                          <m:mi>l</m:mi>
                        </m:mrow>
                      </m:msub>

                      <m:mo>=</m:mo>

                      <m:mover accent="true">
                        <m:mi>m</m:mi>

                        <m:mo>˙</m:mo>
                      </m:mover>
                    </m:mrow>
                  </m:math>
                </inlineequation></entry>
            </row>

            <row>
              <entry>ModelThrustOnly</entry>

              <entry>True or False</entry>

              <entry><inlineequation>
                  <m:math display="inline">
                    <m:mrow>
                      <m:msub>
                        <m:mi>a</m:mi>

                        <m:mrow>
                          <m:mi>T</m:mi>

                          <m:mi>o</m:mi>

                          <m:mi>t</m:mi>

                          <m:mi>a</m:mi>

                          <m:mi>l</m:mi>
                        </m:mrow>
                      </m:msub>

                      <m:mo>=</m:mo>

                      <m:mi>a</m:mi>

                      <m:mo>+</m:mo>

                      <m:mfrac>
                        <m:mrow>
                          <m:mi>s</m:mi>

                          <m:msub>
                            <m:mi>T</m:mi>

                            <m:mrow>
                              <m:mi>F</m:mi>

                              <m:mi>i</m:mi>

                              <m:mi>l</m:mi>

                              <m:mi>e</m:mi>
                            </m:mrow>
                          </m:msub>
                        </m:mrow>

                        <m:mrow>
                          <m:msub>
                            <m:mi>m</m:mi>

                            <m:mrow>
                              <m:mi>T</m:mi>

                              <m:mi>o</m:mi>

                              <m:mi>t</m:mi>

                              <m:mi>a</m:mi>

                              <m:mi>l</m:mi>
                            </m:mrow>
                          </m:msub>
                        </m:mrow>
                      </m:mfrac>
                    </m:mrow>
                  </m:math>
                </inlineequation></entry>

              <entry><inlineequation>
                  <m:math>
                    <m:mrow>
                      <m:msub>
                        <m:mover accent="true">
                          <m:mi>m</m:mi>

                          <m:mo>˙</m:mo>
                        </m:mover>

                        <m:mrow>
                          <m:mi>T</m:mi>

                          <m:mi>o</m:mi>

                          <m:mi>t</m:mi>

                          <m:mi>a</m:mi>

                          <m:mi>l</m:mi>
                        </m:mrow>
                      </m:msub>

                      <m:mo>=</m:mo>

                      <m:mover accent="true">
                        <m:mi>m</m:mi>

                        <m:mo>˙</m:mo>
                      </m:mover>
                    </m:mrow>
                  </m:math>
                </inlineequation></entry>
            </row>

            <row>
              <entry>ModelAccelAndMassRate</entry>

              <entry>True</entry>

              <entry><inlineequation>
                  <m:math>
                    <m:mrow>
                      <m:msub>
                        <m:mi>a</m:mi>

                        <m:mrow>
                          <m:mi>T</m:mi>

                          <m:mi>o</m:mi>

                          <m:mi>t</m:mi>

                          <m:mi>a</m:mi>

                          <m:mi>l</m:mi>
                        </m:mrow>
                      </m:msub>

                      <m:mo>=</m:mo>

                      <m:mi>a</m:mi>

                      <m:mo>+</m:mo>

                      <m:mi>s</m:mi>

                      <m:msub>
                        <m:mi>a</m:mi>

                        <m:mrow>
                          <m:mi>F</m:mi>

                          <m:mi>i</m:mi>

                          <m:mi>l</m:mi>

                          <m:mi>e</m:mi>
                        </m:mrow>
                      </m:msub>
                    </m:mrow>
                  </m:math>
                </inlineequation></entry>

              <entry><inlineequation>
                  <m:math>
                    <m:mrow>
                      <m:msub>
                        <m:mover accent="true">
                          <m:mi>m</m:mi>

                          <m:mo>˙</m:mo>
                        </m:mover>

                        <m:mrow>
                          <m:mi>T</m:mi>

                          <m:mi>o</m:mi>

                          <m:mi>t</m:mi>

                          <m:mi>a</m:mi>

                          <m:mi>l</m:mi>
                        </m:mrow>
                      </m:msub>

                      <m:mo>=</m:mo>

                      <m:mover accent="true">
                        <m:mi>m</m:mi>

                        <m:mo>˙</m:mo>
                      </m:mover>

                      <m:mtext> </m:mtext>

                      <m:mo>−</m:mo>

                      <m:mi>s</m:mi>

                      <m:msub>
                        <m:mi>s</m:mi>

                        <m:mi>m</m:mi>
                      </m:msub>

                      <m:msub>
                        <m:mover accent="true">
                          <m:mi>m</m:mi>

                          <m:mo>˙</m:mo>
                        </m:mover>

                        <m:mrow>
                          <m:mi>F</m:mi>

                          <m:mi>i</m:mi>

                          <m:mi>l</m:mi>

                          <m:mi>e</m:mi>
                        </m:mrow>
                      </m:msub>
                    </m:mrow>
                  </m:math>
                </inlineequation></entry>
            </row>

            <row>
              <entry>ModelAccelAndMassRate</entry>

              <entry>False</entry>

              <entry><inlineequation>
                  <m:math>
                    <m:mrow>
                      <m:msub>
                        <m:mi>a</m:mi>

                        <m:mrow>
                          <m:mi>T</m:mi>

                          <m:mi>o</m:mi>

                          <m:mi>t</m:mi>

                          <m:mi>a</m:mi>

                          <m:mi>l</m:mi>
                        </m:mrow>
                      </m:msub>

                      <m:mo>=</m:mo>

                      <m:mi>a</m:mi>

                      <m:mo>+</m:mo>

                      <m:mi>s</m:mi>

                      <m:msub>
                        <m:mi>a</m:mi>

                        <m:mrow>
                          <m:mi>F</m:mi>

                          <m:mi>i</m:mi>

                          <m:mi>l</m:mi>

                          <m:mi>e</m:mi>
                        </m:mrow>
                      </m:msub>
                    </m:mrow>
                  </m:math>
                </inlineequation></entry>

              <entry><inlineequation>
                  <m:math>
                    <m:mrow>
                      <m:msub>
                        <m:mover accent="true">
                          <m:mi>m</m:mi>

                          <m:mo>˙</m:mo>
                        </m:mover>

                        <m:mrow>
                          <m:mi>T</m:mi>

                          <m:mi>o</m:mi>

                          <m:mi>t</m:mi>

                          <m:mi>a</m:mi>

                          <m:mi>l</m:mi>
                        </m:mrow>
                      </m:msub>

                      <m:mo>=</m:mo>

                      <m:mover accent="true">
                        <m:mi>m</m:mi>

                        <m:mo>˙</m:mo>
                      </m:mover>

                      <m:mtext> </m:mtext>

                      <m:mo>−</m:mo>

                      <m:msub>
                        <m:mi>s</m:mi>

                        <m:mi>m</m:mi>
                      </m:msub>

                      <m:msub>
                        <m:mover accent="true">
                          <m:mi>m</m:mi>

                          <m:mo>˙</m:mo>
                        </m:mover>

                        <m:mrow>
                          <m:mi>F</m:mi>

                          <m:mi>i</m:mi>

                          <m:mi>l</m:mi>

                          <m:mi>e</m:mi>
                        </m:mrow>
                      </m:msub>
                    </m:mrow>
                  </m:math>
                </inlineequation></entry>
            </row>

            <row>
              <entry>ModelThrustAndMassRate</entry>

              <entry>True</entry>

              <entry><inlineequation>
                  <m:math display="inline">
                    <m:mrow>
                      <m:msub>
                        <m:mi>a</m:mi>

                        <m:mrow>
                          <m:mi>T</m:mi>

                          <m:mi>o</m:mi>

                          <m:mi>t</m:mi>

                          <m:mi>a</m:mi>

                          <m:mi>l</m:mi>
                        </m:mrow>
                      </m:msub>

                      <m:mo>=</m:mo>

                      <m:mi>a</m:mi>

                      <m:mo>+</m:mo>

                      <m:mfrac>
                        <m:mrow>
                          <m:mi>s</m:mi>

                          <m:msub>
                            <m:mi>T</m:mi>

                            <m:mrow>
                              <m:mi>F</m:mi>

                              <m:mi>i</m:mi>

                              <m:mi>l</m:mi>

                              <m:mi>e</m:mi>
                            </m:mrow>
                          </m:msub>
                        </m:mrow>

                        <m:mrow>
                          <m:msub>
                            <m:mi>m</m:mi>

                            <m:mrow>
                              <m:mi>T</m:mi>

                              <m:mi>o</m:mi>

                              <m:mi>t</m:mi>

                              <m:mi>a</m:mi>

                              <m:mi>l</m:mi>
                            </m:mrow>
                          </m:msub>
                        </m:mrow>
                      </m:mfrac>
                    </m:mrow>
                  </m:math>
                </inlineequation></entry>

              <entry><inlineequation>
                  <m:math>
                    <m:mrow>
                      <m:msub>
                        <m:mover accent="true">
                          <m:mi>m</m:mi>

                          <m:mo>˙</m:mo>
                        </m:mover>

                        <m:mrow>
                          <m:mi>T</m:mi>

                          <m:mi>o</m:mi>

                          <m:mi>t</m:mi>

                          <m:mi>a</m:mi>

                          <m:mi>l</m:mi>
                        </m:mrow>
                      </m:msub>

                      <m:mo>=</m:mo>

                      <m:mover accent="true">
                        <m:mi>m</m:mi>

                        <m:mo>˙</m:mo>
                      </m:mover>

                      <m:mtext> </m:mtext>

                      <m:mo>−</m:mo>

                      <m:mi>s</m:mi>

                      <m:msub>
                        <m:mi>s</m:mi>

                        <m:mi>m</m:mi>
                      </m:msub>

                      <m:msub>
                        <m:mover accent="true">
                          <m:mi>m</m:mi>

                          <m:mo>˙</m:mo>
                        </m:mover>

                        <m:mrow>
                          <m:mi>F</m:mi>

                          <m:mi>i</m:mi>

                          <m:mi>l</m:mi>

                          <m:mi>e</m:mi>
                        </m:mrow>
                      </m:msub>
                    </m:mrow>
                  </m:math>
                </inlineequation></entry>
            </row>

            <row>
              <entry>ModelThrustAndMassRate</entry>

              <entry>False</entry>

              <entry><inlineequation>
                  <m:math display="inline">
                    <m:mrow>
                      <m:msub>
                        <m:mi>a</m:mi>

                        <m:mrow>
                          <m:mi>T</m:mi>

                          <m:mi>o</m:mi>

                          <m:mi>t</m:mi>

                          <m:mi>a</m:mi>

                          <m:mi>l</m:mi>
                        </m:mrow>
                      </m:msub>

                      <m:mo>=</m:mo>

                      <m:mi>a</m:mi>

                      <m:mo>+</m:mo>

                      <m:mfrac>
                        <m:mrow>
                          <m:mi>s</m:mi>

                          <m:msub>
                            <m:mi>T</m:mi>

                            <m:mrow>
                              <m:mi>F</m:mi>

                              <m:mi>i</m:mi>

                              <m:mi>l</m:mi>

                              <m:mi>e</m:mi>
                            </m:mrow>
                          </m:msub>
                        </m:mrow>

                        <m:mrow>
                          <m:msub>
                            <m:mi>m</m:mi>

                            <m:mrow>
                              <m:mi>T</m:mi>

                              <m:mi>o</m:mi>

                              <m:mi>t</m:mi>

                              <m:mi>a</m:mi>

                              <m:mi>l</m:mi>
                            </m:mrow>
                          </m:msub>
                        </m:mrow>
                      </m:mfrac>
                    </m:mrow>
                  </m:math>
                </inlineequation></entry>

              <entry><inlineequation>
                  <m:math>
                    <m:mrow>
                      <m:msub>
                        <m:mover accent="true">
                          <m:mi>m</m:mi>

                          <m:mo>˙</m:mo>
                        </m:mover>

                        <m:mrow>
                          <m:mi>T</m:mi>

                          <m:mi>o</m:mi>

                          <m:mi>t</m:mi>

                          <m:mi>a</m:mi>

                          <m:mi>l</m:mi>
                        </m:mrow>
                      </m:msub>

                      <m:mo>=</m:mo>

                      <m:mover accent="true">
                        <m:mi>m</m:mi>

                        <m:mo>˙</m:mo>
                      </m:mover>

                      <m:mtext> </m:mtext>

                      <m:mo>−</m:mo>

                      <m:msub>
                        <m:mi>s</m:mi>

                        <m:mi>m</m:mi>
                      </m:msub>

                      <m:msub>
                        <m:mover accent="true">
                          <m:mi>m</m:mi>

                          <m:mo>˙</m:mo>
                        </m:mover>

                        <m:mrow>
                          <m:mi>F</m:mi>

                          <m:mi>i</m:mi>

                          <m:mi>l</m:mi>

                          <m:mi>e</m:mi>
                        </m:mrow>
                      </m:msub>
                    </m:mrow>
                  </m:math>
                </inlineequation></entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable>

      <para>Notation:</para>

      <itemizedlist>
        <listitem>
          <para><inlineequation>
              <m:math>
                <m:msub>
                  <m:mi>a</m:mi>

                  <m:mrow>
                    <m:mi>T</m:mi>

                    <m:mi>o</m:mi>

                    <m:mi>t</m:mi>

                    <m:mi>a</m:mi>

                    <m:mi>l</m:mi>
                  </m:mrow>
                </m:msub>

                <m:mtext> = Total acceleration</m:mtext>
              </m:math>
            </inlineequation></para>
        </listitem>

        <listitem>
          <para><inlineequation>
              <m:math>
                <m:mi>a</m:mi>

                <m:mtext> 
                       = Acceleration due to all sources other than that given in the input thrust
                history file</m:mtext>
              </m:math>
            </inlineequation></para>
        </listitem>

        <listitem>
          <para><inlineequation>
              <m:math>
                <m:msub>
                  <m:mi>a</m:mi>

                  <m:mrow>
                    <m:mi>F</m:mi>

                    <m:mi>i</m:mi>

                    <m:mi>l</m:mi>

                    <m:mi>e</m:mi>
                  </m:mrow>
                </m:msub>

                <m:mo>  =</m:mo>

                <m:mtext>Acceleration given in the input thrust history
                file</m:mtext>
              </m:math>
            </inlineequation></para>
        </listitem>

        <listitem>
          <para><inlineequation>
              <m:math>
                <m:msub>
                  <m:mi>m</m:mi>

                  <m:mrow>
                    <m:mi>T</m:mi>

                    <m:mi>o</m:mi>

                    <m:mi>t</m:mi>

                    <m:mi>a</m:mi>

                    <m:mi>l</m:mi>
                  </m:mrow>
                </m:msub>

                <m:mtext> = Total mass</m:mtext>
              </m:math>
            </inlineequation></para>
        </listitem>

        <listitem>
          <para><inlineequation>
              <m:math>
                <m:msub>
                  <m:mover accent="true">
                    <m:mi>m</m:mi>

                    <m:mo>˙</m:mo>
                  </m:mover>

                  <m:mrow>
                    <m:mi>T</m:mi>

                    <m:mi>o</m:mi>

                    <m:mi>t</m:mi>

                    <m:mi>a</m:mi>

                    <m:mi>l</m:mi>
                  </m:mrow>
                </m:msub>

                <m:mo>=</m:mo>

                <m:mtext> Total mass flow rate</m:mtext>
              </m:math>
            </inlineequation></para>
        </listitem>

        <listitem>
          <para><inlineequation>
              <m:math>
                <m:mover accent="true">
                  <m:mi>m</m:mi>

                  <m:mo>˙</m:mo>
                </m:mover>

                <m:mtext>         = mass flow rate due to all sources other than that given in the input file</m:mtext>
              </m:math>
            </inlineequation></para>
        </listitem>

        <listitem>
          <para><inlineequation>
              <m:math>
                <m:msub>
                  <m:mover accent="true">
                    <m:mi>m</m:mi>

                    <m:mo>˙</m:mo>
                  </m:mover>

                  <m:mrow>
                    <m:mi>F</m:mi>

                    <m:mi>i</m:mi>

                    <m:mi>l</m:mi>

                    <m:mi>e</m:mi>
                  </m:mrow>
                </m:msub>

                <m:mo>  =</m:mo>

                <m:mtext>mass flow rate given in the input file</m:mtext>
              </m:math>
            </inlineequation></para>
        </listitem>

        <listitem>
          <para><inlineequation>
              <m:math>
                <m:msub>
                  <m:mi>T</m:mi>

                  <m:mrow>
                    <m:mi>F</m:mi>

                    <m:mi>i</m:mi>

                    <m:mi>l</m:mi>

                    <m:mi>e</m:mi>
                  </m:mrow>
                </m:msub>

                <m:mo>   =</m:mo>

                <m:mtext>Thrust given in the input file</m:mtext>
              </m:math>
            </inlineequation></para>
        </listitem>

        <listitem>
          <para><inlineequation>
              <m:math>
                <m:mi>s</m:mi>

                <m:mo>         =</m:mo>

                <m:mi>T</m:mi>

                <m:mi>h</m:mi>

                <m:mi>r</m:mi>

                <m:mi>u</m:mi>

                <m:mi>s</m:mi>

                <m:mi>t</m:mi>

                <m:mi>S</m:mi>

                <m:mi>e</m:mi>

                <m:mi>g</m:mi>

                <m:mi>m</m:mi>

                <m:mi>e</m:mi>

                <m:mi>n</m:mi>

                <m:mi>t</m:mi>

                <m:mo>.</m:mo>

                <m:mi>T</m:mi>

                <m:mi>h</m:mi>

                <m:mi>r</m:mi>

                <m:mi>u</m:mi>

                <m:mi>s</m:mi>

                <m:mi>t</m:mi>

                <m:mi>S</m:mi>

                <m:mi>c</m:mi>

                <m:mi>a</m:mi>

                <m:mi>l</m:mi>

                <m:mi>e</m:mi>

                <m:mi>F</m:mi>

                <m:mi>a</m:mi>

                <m:mi>c</m:mi>

                <m:mi>t</m:mi>

                <m:mi>o</m:mi>

                <m:mi>r</m:mi>

                <m:mtext>.  User
                can optionally solve for s as part of the estimation process</m:mtext>

                <m:mtext>. </m:mtext>
              </m:math>
            </inlineequation></para>
        </listitem>

        <listitem>
          <para><inlineequation>
              <m:math display="block">
                <m:msub>
                  <m:mi>s</m:mi>

                  <m:mi>m</m:mi>
                </m:msub>

                <m:mtext>        = </m:mtext>

                <m:mi>T</m:mi>

                <m:mi>h</m:mi>

                <m:mi>r</m:mi>

                <m:mi>u</m:mi>

                <m:mi>s</m:mi>

                <m:mi>t</m:mi>

                <m:mi>S</m:mi>

                <m:mi>e</m:mi>

                <m:mi>g</m:mi>

                <m:mi>m</m:mi>

                <m:mi>e</m:mi>

                <m:mi>n</m:mi>

                <m:mi>t</m:mi>

                <m:mo>.</m:mo>

                <m:mi>M</m:mi>

                <m:mi>a</m:mi>

                <m:mi>s</m:mi>

                <m:mi>s</m:mi>

                <m:mi>F</m:mi>

                <m:mi>l</m:mi>

                <m:mi>o</m:mi>

                <m:mi>w</m:mi>

                <m:mi>S</m:mi>

                <m:mi>c</m:mi>

                <m:mi>a</m:mi>

                <m:mi>l</m:mi>

                <m:mi>e</m:mi>

                <m:mi>F</m:mi>

                <m:mi>a</m:mi>

                <m:mi>c</m:mi>

                <m:mi>t</m:mi>

                <m:mi>o</m:mi>

                <m:mi>r</m:mi>

                <m:mtext>.</m:mtext>
              </m:math>
            </inlineequation></para>
        </listitem>
      </itemizedlist>
    </refsection>
  </refsection>

  <refsection>
    <title>Examples</title>

    <informalexample>
      <para>Create a <guilabel>ThrustHistoryFile</guilabel> that utilizes two
      <guilabel>ThrustSegment</guilabel>s.</para>

      <programlisting><code>Create ThrustHistoryFile aThrustHistoryFile
aThrustHistoryFile.AddThrustSegment = {Segment1, Segment2}   
aThrustHistoryFile.FileName = '../data/myThrustFile.thrust'

Create ThrustSegment Segment1 Segment2

BeginMissionSequence;</code></programlisting>

      <para>The script above will would pass a syntax check but in order for
      it to run without error, you would have to create a thrust file,
      <filename>myThrustFile.thrust</filename>, and place it in the GMAT
      'data' folder. For a complete example of how the
      <guilabel>ThrustHistoryFile</guilabel> and
      <guilabel>ThrustSegment</guilabel> resources are used to apply a
      thrust/acceleration and mass flow rate profile to a spacecraft, see the
      first example in the <xref linkend="BeginFileThrust"/> Help.</para>
    </informalexample>
  </refsection>
</refentry>
